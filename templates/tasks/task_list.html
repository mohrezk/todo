{% extends "base.html" %}

{% block content %}




    <br>
    <h1 style="margin-left: 15px"> Tasks </h1>
    <br>

    <button class="btn btn-primary" 
        style="margin-left: 15px"
        hx-trigger="click" 
        hx-get="{% url 'task-create' %}"
        hx-target="#task-create"


        data-bs-toggle="modal" 
        data-bs-target="#task-create">
        Add new Task
    </button>

    <br>

    <div id="task-create"
        class="modal modal-blur fade"
        style="display: none"
        aria-hidden="false"
        tabindex="-1">
        <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
            <div class="modal-content"></div>
        </div>
    </div>


    <div id="task-details"
        class="modal modal-blur fade"
        style="display: none"
        aria-hidden="false"
        tabindex="-1">
        <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
            <div class="modal-content"></div>
        </div>
    </div>


    <br>
    <div class="container text-center">
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4">
                {% for task in tasks %}
                <div class="col">
                    <div class="card" style="margin-bottom: 25px;">
                        <div class="card-body">
                            <h5 class="card-title">{{ task }}</h5>
                            <p class="card-text">{{ task.description }}</p>
                            <button class="btn btn-warning" 
                                    hx-trigger="click" 
                                    hx-get="{% url 'task-update' task.id %}"
                                    hx-target="#task-details"
                                    {% comment %} hx-swap="outerHTML" {% endcomment %}

                                    data-bs-toggle="modal" 
                                    data-bs-target="#task-details">
                                    Update
                            </button>
                        </div>
                    </div>
                </div>
                {% endfor %} 
        </div>
    </div>

    
    



{% endblock %}


